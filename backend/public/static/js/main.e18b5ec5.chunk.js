(this.webpackJsonpe2e=this.webpackJsonpe2e||[]).push([[0],{131:function(e,t){},134:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n(0),a=n.n(s),c=n(23),i=n.n(c),o=n(11),u=n(20),l=n(6),d=n(3),p=n.n(d),m=n(5),j=n(9),h=n(10),f=n(13),b=n(12);function g(e){var t=e.children;return Object(r.jsx)("div",{className:"seller-list",children:t})}function O(e){var t=e.sellerItem;return Object(r.jsx)(a.a.Fragment,{children:Object(r.jsx)("div",{className:"item-preview",children:Object(r.jsx)("p",{children:Object(r.jsx)("button",{onClick:function(){window.scrollTo(0,0)},children:Object(r.jsxs)(u.b,{to:"/item/".concat(t._id),children:["  ",Object(r.jsx)("img",{className:"item-img",src:t.imgUrl,alt:""})]})})})})})}var v=n(71),x="/api/",y=n.n(v).a.create({withCredentials:!0}),w=function(e,t){return S(e,"GET",t)},I=function(e,t){return S(e,"POST",t)},C=function(e,t){return S(e,"PUT",t)},_=function(e,t){return S(e,"DELETE",t)};function S(e){return N.apply(this,arguments)}function N(){return(N=Object(m.a)(p.a.mark((function e(t){var n,r,s,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"get",r=a.length>2&&void 0!==a[2]?a[2]:null,e.prev=2,e.next=5,y({url:"".concat(x).concat(t),method:n,data:r});case 5:return s=e.sent,e.abrupt("return",s.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(r)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var U={add:function(e){return M.apply(this,arguments)},query:function(e){return E.apply(this,arguments)},remove:function(e){return _("".concat(k,"/").concat(e))},getById:function(e){return w("".concat(k,"/").concat(e))}},k="item";function E(){return(E=Object(m.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(k);case 2:return n=e.sent,console.log(n),r=n.filter((function(e){return e.title.includes(t.title)})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(k,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:""};return function(t){return U.query(e).then((function(e){console.log(e),t({type:"SET_ITEMS",items:e})}))}}var T={query:function(){return D.apply(this,arguments)},add:function(e){return R.apply(this,arguments)}},B="order";function D(){return(D=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(B);case 2:return t=e.sent,console.log(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(B,t);case 2:return n=e.sent,console.log("newOrder",n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.query();case 2:n=e.sent,t({type:"SET_ORDERS",orders:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function P(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.add(e);case 2:r=t.sent,n({type:"ADD_ORDER",order:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var F=n(148);function H(e){var t=e.order;e.loggedInUser;return Object(r.jsxs)("div",{className:"modal",children:[Object(r.jsx)("h1",{children:"Order Details"}),Object(r.jsxs)("p",{children:["Item: ",t.item.title]}),Object(r.jsxs)("p",{children:["Price: $",t.item.price]}),Object(r.jsx)(F.a,{className:"buy-btn",href:"#/",children:"Checkout & Download"})]})}var q=n(14),V={load:function(e){var t=localStorage.getItem(e);return JSON.parse(t)},save:function(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n)}};var z={query:function(){(G=V.load(J))&&G.length||(G=W);return Promise.resolve(Object(q.a)(G))},add:function(e,t){var n={_id:K(),createdAt:Date.now(),buyer:e,totalPrice:20,items:t};return G=[].concat(Object(q.a)(G),[n]),console.log("cart is ",n),V.save(J,G),n}},J="CART_DB",W=[{_id:"vs43g",createdAt:9898989,buyer:"defult-user",totalPrice:20,items:[{_id:"v140",name:"Batata Ksbia",amount:2}]}],G=[];function K(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}n.p;var X=n.p+"static/media/star.d0cbd94e.png",Y=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={item:null,items:[],orders:{item:[],userId:""},modal:!1,fileDownloadUrl:""},e.onPurchase=function(){var t=Object(m.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.loggedInUser,t.prev=1,e.setState({modal:!0}),t.next=5,e.props.addOrder({user:r,item:n});case 5:return t.abrupt("return",n);case 8:t.prev=8,t.t0=t.catch(1),console.log("Login First",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.onAddToCart=function(t){var n=z.add(e.props.loggedInUser,t);console.log("this cart",n),t.push()},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.loadItems(),this.props.loadOrders();var t=this.props.match.params.itemId;if(t){var n=this.props.items.find((function(e){return e._id===t}));console.log("item from find CDM",n),this.setState({item:n},(function(){console.log("item local state",e.state.item)}))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.loggedInUser,s=t.items,a=t.orders;console.log(a);var c=this.props.match.params.itemId,i=this.props.items.find((function(e){return e._id===c}));if(!i)return Object(r.jsx)("h1",{children:"loading.."});var o=s.filter((function(e){return e.seller.fullname===i.seller.fullname}));return Object(r.jsx)("section",{className:"details-page main-container",children:Object(r.jsxs)("div",{className:"details-page-container",children:[Object(r.jsxs)("div",{className:"item-container",children:[Object(r.jsx)("div",{className:"title-container",children:Object(r.jsx)("h1",{children:i.title})}),Object(r.jsxs)("div",{className:"item-subcontainer",children:[Object(r.jsxs)("div",{className:"img-container",children:[Object(r.jsx)("img",{className:"img-details",src:i.imgUrl}),Object(r.jsxs)("p",{children:[Object(r.jsx)("img",{className:"profile-img",src:i.seller.imgUrl,alt:""}),i.seller.fullname]})]}),Object(r.jsxs)("div",{className:"txt-container",children:[Object(r.jsx)("p",{className:"item-desc",children:i.description}),Object(r.jsxs)("p",{className:"grey",children:["Price: ",Object(r.jsxs)("span",{children:["$",i.price]})]}),Object(r.jsxs)("div",{className:"items-btns",children:[Object(r.jsx)("button",{className:"icon-heart-btn"}),Object(r.jsx)("button",{className:"btn",onClick:function(){e.onPurchase(i)},children:"Continue with purchase"})]}),this.state.modal&&a.length>0&&Object(r.jsx)(H,{order:a[a.length-1],loggedInUser:n}),Object(r.jsxs)("div",{className:"item-reviews",children:[Object(r.jsxs)("p",{className:"grey",children:['Comments: "',i.reviews[0].txt,'"',Object(r.jsx)("br",{}),Object(r.jsx)("span",{className:"see-more",children:"see more..."})]}),Object(r.jsxs)("p",{className:"grey p-star",children:["Rating: ",Object(r.jsxs)("button",{className:"star-btn",children:[Object(r.jsx)("img",{className:"star",src:X,alt:""}),Object(r.jsx)("img",{className:"star",src:X,alt:""}),Object(r.jsx)("img",{className:"star",src:X,alt:""}),Object(r.jsx)("img",{className:"star",src:X,alt:""}),Object(r.jsx)("img",{className:"star",src:X,alt:""})]})]})]})]})]})]}),Object(r.jsxs)("div",{className:"seller-items",children:[Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"More by this artist"})}),Object(r.jsx)(g,{sellerItems:o,children:o.map((function(e){return Object(r.jsx)(O,{sellerItem:e},e._id)}))})]})]})})}}]),n}(s.Component),Z={loadItems:A,loadOrders:L,addOrder:P},$=Object(o.b)((function(e){return{items:e.itemModule.items,users:e.userModule.users,loggedInUser:e.userModule.loggedInUser,orders:e.orderModule.orders}}),Z)(Y),Q=n(21),ee=n(4),te={login:function(e){return ae.apply(this,arguments)},logout:function(){return ie.apply(this,arguments)},signup:function(e){return ce.apply(this,arguments)},getUsers:function(){return le.query("user")},getById:function(e){var t=re.find((function(t){return t._id===e}));return Promise.resolve(Object(ee.a)({},t))},remove:function(e){return _("user/".concat(e))},update:function(e){return se.apply(this,arguments)},getLoggedinUser:ue,query:function(){(re=de("usersDB"))&&re.length||(re=ne);return Promise.resolve(Object(q.a)(re))}},ne=[{_id:"u101",fullname:"Nadav Mozes",imgUrls:{profile:"https://res.cloudinary.com/dgoonzit8/image/upload/v1611128015/nadav_z8aeoa.jpg",banner:"https://res.cloudinary.com/arter/image/upload/c_fill,h_1080,w_2560/v1610633390/users/banners/0056_nm1u5s.jpg"},description:"Hi, my name is Nadav and i like to take photos of view and pets",isAdmin:!0,username:"nadavm",email:"nadavm@gmail.com",password:"123456",createdAt:1312130853500,reviews:[{id:"r101",rate:5,txt:"Best Artist EVER!!!",byUser:{_id:"u102",fullname:"Inbal Azmon",imgUrl:"https://res.cloudinary.com/dgoonzit8/image/upload/v1610978465/inbal_lb5cup.jpg"}},{id:"r102",rate:4,txt:"I've really liked her work.",byUser:{_id:"u103",fullname:"Eliran Kadosh",imgUrl:"https://res.cloudinary.com/yair/image/upload/v1610992803/myArt/77024852_10219560406297249_3160022827982127104_o_aax41g.jpg"}}]},{_id:"u102",fullname:"Inbal Azmon",imgUrls:{profile:"https://res.cloudinary.com/dgoonzit8/image/upload/v1610978465/inbal_lb5cup.jpg"},description:"Hi, my name is Inbal and i like to take photos of view and flowers",isAdmin:!0,username:"inbala",email:"inbala@gmail.com",password:"123456",createdAt:1319620853500,reviews:[]},{_id:"u103",fullname:"Efrat Cohen",imgUrls:{profile:"https://res.cloudinary.com/arter/image/upload/v1610626024/users/profiles/mike-pence-rule_gq4ug4.jpg",banner:"https://res.cloudinary.com/arter/image/upload/c_fill,h_1080,w_2560/v1610619722/users/banners/ayeletavni_horybm.jpg"},description:"NEED TO ADD",isAdmin:!1,username:"efratcoco",email:"effratt@gmail.com",password:"secret",createdAt:1319159853500,reviews:[{id:"r103",rate:5,txt:"Beautiful art. I'm very happy about my purchase.",byUser:{_id:"u101",fullname:"Ayelet Avni",imgUrl:"https://res.cloudinary.com/arter/image/upload/v1610573149/users/profiles/ayeletavni_bfgfh7.jpg"}}]},{_id:"u104",fullname:"Aaron Pikotsky",imgUrls:{profile:"https://res.cloudinary.com/arter/image/upload/v1610633664/users/profiles/004.jpg",banner:"https://res.cloudinary.com/arter/image/upload/c_fill,h_1080,w_2560/v1610633075/users/banners/001.jpg"},description:"NEED TO ADD",isAdmin:!1,username:"AaronPeacock",email:"aaaaron@gmail.com",password:"secret",createdAt:1319620853500,reviews:[]}],re=[];function se(){return(se=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("user/".concat(t._id),t);case 2:t=e.sent,ue()._id===t._id&&oe(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=re.find((function(e){return e.username===t.username})))){e.next=4;break}return e.abrupt("return",oe(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("auth/signup",t);case 2:return n=e.sent,e.abrupt("return",oe(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.clear(),e.next=3,I("auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return sessionStorage.setItem("loggedinUser",JSON.stringify(e)),e}function ue(){return JSON.parse(sessionStorage.getItem("loggedinUser"))}var le={load:de,save:function(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n)}};function de(e){var t=localStorage.getItem(e);return JSON.parse(t)}function pe(){return function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_START"}),e.next=4,te.query().then((function(e){console.log(e),t({type:"SET_USERS",users:e})}));case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("UserActions: err in loadUsers",e.t0);case 10:return e.prev=10,t({type:"LOADING_DONE"}),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(t){return e.apply(this,arguments)}}()}var me=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={msg:"",loginCred:{username:"",password:""},signupCred:{username:"",password:"",fullname:""}},e.loginHandleChange=function(t){var n=t.target,r=n.name,s=n.value;e.setState((function(e){return{loginCred:Object(ee.a)(Object(ee.a)({},e.loginCred),{},Object(Q.a)({},r,s))}}))},e.signupHandleChange=function(t){var n=t.target,r=n.name,s=n.value;e.setState((function(e){return{signupCred:Object(ee.a)(Object(ee.a)({},e.signupCred),{},Object(Q.a)({},r,s))}}))},e.doLogin=function(){var t=Object(m.a)(p.a.mark((function t(n){var r,s,a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),console.log("login"),r=e.state.loginCred,s=r.username,a=r.password,s){t.next=5;break}return t.abrupt("return",e.setState({msg:"Please enter user/password"}));case 5:c={username:s,password:a};try{e.props.login(c),e.setState({loginCred:{username:"",password:""}})}catch(i){e.setState({msg:"Login failed, try again."})}case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.doSignup=function(){var t=Object(m.a)(p.a.mark((function t(n){var r,s,a,c,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state.signupCred,s=r.username,a=r.password,c=r.fullname,s&&a&&c){t.next=4;break}return t.abrupt("return",e.setState({msg:"All inputs are required"}));case 4:i={username:s,password:a,fullname:c},e.props.signup(i),e.setState({signupCred:{username:"",password:"",fullname:""}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.removeUser=function(t){e.props.removeUser(t)},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.loadUsers()}},{key:"render",value:function(){var e=Object(r.jsxs)("form",{className:"frm",onSubmit:this.doSignup,children:[Object(r.jsx)("h2",{children:"Signup"}),Object(r.jsx)("input",{type:"text",name:"fullname",value:this.state.signupCred.fullname,onChange:this.signupHandleChange,placeholder:"Full name",autoComplete:"fullname"}),Object(r.jsx)("input",{name:"password",type:"password",value:this.state.signupCred.password,onChange:this.signupHandleChange,placeholder:"Password",autoComplete:"current-password"}),Object(r.jsx)("input",{type:"text",name:"username",value:this.state.signupCred.username,onChange:this.signupHandleChange,placeholder:"Username",autoComplete:"username"}),Object(r.jsx)("br",{}),Object(r.jsx)(F.a,{children:"Signup"})]}),t=Object(r.jsxs)("form",{className:"frm",onSubmit:this.doLogin,children:[Object(r.jsx)("h2",{children:"Login"}),Object(r.jsxs)("select",{name:"username",value:this.state.loginCred.username,onChange:this.loginHandleChange,children:[Object(r.jsx)("option",{value:"",children:"Select User"}),this.props.users&&this.props.users.map((function(e){return Object(r.jsx)("option",{value:e.username,children:e.fullname},e._id)}))]}),Object(r.jsx)("input",{type:"text",name:"username",value:this.state.loginCred.username,onChange:this.loginHandleChange,placeholder:"Username"}),Object(r.jsx)("input",{type:"password",name:"password",value:this.state.loginCred.password,onChange:this.loginHandleChange,placeholder:"Password"}),Object(r.jsx)("br",{}),Object(r.jsx)(F.a,{onClick:this.doLogin,children:"Login"})]}),n=this.props.loggedInUser;return Object(r.jsxs)("div",{className:"login",children:[Object(r.jsx)("h1",{children:"Login / Signup"}),Object(r.jsx)("p",{children:this.state.msg}),n&&Object(r.jsx)("div",{children:Object(r.jsxs)("h3",{children:["Welcome ",n.fullname,Object(r.jsx)("button",{onClick:this.props.logout,children:"Logout"})]})}),!n&&t,!n&&e,Object(r.jsx)("hr",{})]})}}]),n}(s.Component),je={login:function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.login(e);case 3:r=t.sent,n({type:"SET_USER",user:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("UserActions: err in login",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.logout();case 3:t({type:"SET_USER",user:null}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("UserActions: err in logout",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},signup:function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.signup(e);case 3:r=t.sent,n({type:"SET_USER",user:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("UserActions: err in signup",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},removeUser:function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.remove(e);case 3:n({type:"REMOVE_USER",userId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("UserActions: err in removeUser",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},loadUsers:pe},he=Object(o.b)((function(e){return{users:e.userModule.users,loggedInUser:e.userModule.loggedInUser}}),je)(me),fe=n(75),be=n.n(fe),ge=function(){var e;return{setup:function(){e=be()("")},on:function(t,n){e.on(t,n)},off:function(t,n){e.off(t,n)},emit:function(t,n){e.emit(t,n)},terminate:function(){e=null}}}();window.socketService=ge;var Oe=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={msg:{txt:""},msgs:[],topic:"Love",isBotMode:!0},e.addMsg=function(t){e.setState((function(e){return{msgs:[].concat(Object(q.a)(e.msgs),[t])}})),e.state.isBotMode&&e.sendBotResponse()},e.sendBotResponse=function(){e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout((function(){e.setState((function(e){return{msgs:[].concat(Object(q.a)(e.msgs),[{from:"Bot",txt:"You are amazing!"}])}}))}),1500)},e.changeTopic=function(){ge.emit("chat topic",e.state.topic)},e.sendMsg=function(t){var n;t.preventDefault();var r=(null===(n=e.props.loggedInUser)||void 0===n?void 0:n.fullname)||"Me";ge.emit("chat newMsg",{from:r,txt:e.state.msg.txt}),e.setState({msg:{from:"Me",txt:""}})},e.handleChange=function(t){var n=t.target,r=n.name,s=n.value;e.setState(Object(Q.a)({},r,s),e.changeTopic)},e.msgHandleChange=function(t){var n=t.target,r=n.name,s=n.value;e.setState((function(e){return{msg:Object(ee.a)(Object(ee.a)({},e.msg),{},Object(Q.a)({},r,s))}}))},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){ge.setup(),ge.emit("chat topic",this.state.topic),ge.on("chat addMsg",this.addMsg)}},{key:"componentWillUnmount",value:function(){ge.off("chat addMsg",this.addMsg),ge.terminate(),clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:"chat",children:[Object(r.jsxs)("h2",{children:["Lets Chat about ",this.state.topic]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",name:"isBotMode",checked:this.state.isBotMode,onChange:function(t){return e.setState({isBotMode:t.target.checked})}}),"Bot Mode"]}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"radio",name:"topic",value:"Love",checked:"Love"===this.state.topic,onChange:this.handleChange}),"Love"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"radio",name:"topic",value:"Politics",checked:"Politics"===this.state.topic,onChange:this.handleChange}),"Politics"]})]}),Object(r.jsxs)("form",{onSubmit:this.sendMsg,children:[Object(r.jsx)("input",{type:"text",value:this.state.msg.txt,onChange:this.msgHandleChange,name:"txt",autoComplete:"off"}),Object(r.jsx)("button",{children:"Send"})]}),Object(r.jsx)("ul",{children:this.state.msgs.map((function(e,t){return Object(r.jsxs)("li",{children:[e.from,": ",e.txt]},t)}))})]})}}]),n}(s.Component),ve=(Object(o.b)((function(e){return{loggedInUser:e.userModule.loggedInUser}}),{})(Oe),function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={user:null,orders:[],items:[]},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.loadItems(),e.next=3,te.getById(this.props.match.params.id);case 3:return t=e.sent,this.setState({user:t}),e.next=7,U.getById(this.props.match.params.id);case 7:n=e.sent,this.setState({item:n});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.props.loggedInUser,n=this.props.items,s=(this.state.item,null===(e=this.state.user)||void 0===e||e._id,n.filter((function(e){return e.seller.fullname===t.fullname})));return Object(r.jsx)("section",{className:"user-details",children:this.state.user&&Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{className:"user-profile",src:this.state.user.imgUrls.profile,alt:""}),Object(r.jsx)("h3",{className:"user-name",children:this.state.user.fullname}),Object(r.jsxs)("p",{className:"user-desc",children:['"',this.state.user.description,'"']}),Object(r.jsx)("div",{children:"My Art:"}),Object(r.jsx)("div",{className:"seller-items",children:Object(r.jsx)(g,{sellerItems:s,children:s.map((function(e){return Object(r.jsx)(O,{sellerItem:e},e._id)}))})}),this.state.orders.map((function(e){return Object(r.jsx)("h1",{children:e.items[0].title},e._id)}))]})})}}]),n}(s.Component)),xe={loadItems:A},ye=Object(o.b)((function(e){return{items:e.itemModule.items,users:e.userModule.users,loggedInUser:e.userModule.loggedInUser}}),xe)(ve);function we(){return Object(r.jsx)(a.a.Fragment,{children:Object(r.jsxs)("footer",{className:"footer",children:[Object(r.jsxs)("div",{className:"site-copy",children:[Object(r.jsxs)("div",{className:"logo",children:[Object(r.jsx)("span",{className:"pic",children:"Pic"}),Object(r.jsx)("span",{children:"&"}),Object(r.jsx)("span",{className:"art",children:"Art"})]})," Copyrights 2020 \xa9"]}),Object(r.jsxs)("div",{className:"social",children:[Object(r.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4_u8OBrSJ33ctiVvOD4Tx1DdTglxG-Tf0ovRUKEU&usqp=CAU",alt:""}),Object(r.jsx)("img",{src:"https://res.cloudinary.com/dgoonzit8/image/upload/v1611650379/imageedit_1_3489469951_vlj5ua.png",alt:""})]})]})})}var Ie=n.p+"static/media/menu.5cc298bd.svg";function Ce(e){return Object(r.jsxs)("section",{className:"item-filter item-filter-container",children:[Object(r.jsx)("input",{className:"item-filter-search",name:"title",type:"text",placeholder:"Find your art ",onChange:e.handleInput,autoComplete:"off"}),Object(r.jsx)("div",{className:"sc",onClick:function(){console.log("hello"),window.scrollTo(0,745)},children:Object(r.jsx)("svg",{className:"search-svg",width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{d:"M15.8906 14.6531L12.0969 10.8594C12.025 10.7875 11.9313 10.75 11.8313 10.75H11.4187C12.4031 9.60938 13 8.125 13 6.5C13 2.90937 10.0906 0 6.5 0C2.90937 0 0 2.90937 0 6.5C0 10.0906 2.90937 13 6.5 13C8.125 13 9.60938 12.4031 10.75 11.4187V11.8313C10.75 11.9313 10.7906 12.025 10.8594 12.0969L14.6531 15.8906C14.8 16.0375 15.0375 16.0375 15.1844 15.8906L15.8906 15.1844C16.0375 15.0375 16.0375 14.8 15.8906 14.6531ZM6.5 11.5C3.7375 11.5 1.5 9.2625 1.5 6.5C1.5 3.7375 3.7375 1.5 6.5 1.5C9.2625 1.5 11.5 3.7375 11.5 6.5C11.5 9.2625 9.2625 11.5 6.5 11.5Z"})})})]})}var _e=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.loggedInUser;return Object(r.jsx)(a.a.Fragment,{children:Object(r.jsx)("header",{children:Object(r.jsxs)("nav",{className:"main-header",children:[Object(r.jsx)(u.c,{exact:!0,to:"/store",children:Object(r.jsxs)("div",{className:"logo",children:[Object(r.jsx)("span",{className:"pic",children:"Pic"}),Object(r.jsx)("span",{children:"&"}),Object(r.jsx)("span",{className:"art",children:"Art"})]})}),Object(r.jsx)(F.a,{className:"btn-hamburger",children:Object(r.jsx)("img",{src:Ie,alt:"menu"})}),Object(r.jsxs)("div",{className:"nav-bar",children:[Object(r.jsx)(u.c,{to:"/login",children:"Login"}),Object(r.jsx)(u.c,{to:"/chat",children:"About Us"}),e&&Object(r.jsx)("span",{className:"loggedin-user",children:Object(r.jsxs)(u.b,{to:"/user/".concat(e._id),children:["Welcome, ",e.fullname]})})]})]})})})}}]),n}(s.Component),Se=Object(o.b)((function(e){return{loggedInUser:e.userModule.loggedInUser}}),{})(_e),Ne=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={user:null,cart:[]},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.getById(this.props.match.params.id);case 2:return t=e.sent,this.setState({user:t}),e.next=6,z.query();case 6:n=e.sent,r=n.filter((function(e){return e.buyer._id===t._id})),this.setState({cart:r});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(r.jsx)("div",{children:this.state.cart.map((function(e){return Object(r.jsx)("h1",{children:e.items[0].title},e._id)}))})}}]),n}(s.Component);n.p;function Ue(e){var t=e.item;e.onBuy,e.onAddToCart;return Object(r.jsx)(a.a.Fragment,{children:Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"item-preview",children:[Object(r.jsx)(u.b,{to:"/item/".concat(t._id),onClick:function(){window.scrollTo(0,0)},children:Object(r.jsx)("img",{className:"item-img",src:t.imgUrl,alt:""})}),Object(r.jsxs)("div",{className:"card-info",children:[Object(r.jsx)("img",{className:"profile-img",src:t.seller.imgUrl,alt:""}),Object(r.jsx)("p",{children:t.seller.fullname})]})]})})})}function ke(e){var t=e.items,n=e.onRemoveItem,s=e.onBuy,a=e.onAddToCart;return Object(r.jsx)("div",{className:"item-details",children:t.map((function(e){return Object(r.jsx)(Ue,{item:e,onBuy:s,onRemoveItem:n,onAddToCart:a},e._id)}))})}var Ee=n.p+"static/media/hero4.08bc9a56.jpg";function Me(e){var t=e.handleInput;return Object(r.jsxs)("section",{className:"relative",children:[Object(r.jsx)("img",{src:Ee,className:"hero",alt:"hero"}),Object(r.jsx)(Ce,{handleInput:t})]})}var Ae=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={filterBy:{title:"",artist1:"Harel Malachi",artist2:"Eliran Kadosh",artist3:"Inbal Azmon"},items:[],cart:[]},e.onRemoveItem=function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.removeItem(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleInput=function(t){var n=t.target,r=n.name,s=n.value,a="number"===n.type?parseInt(s):s;e.setState((function(e){return{filterBy:Object(ee.a)(Object(ee.a)({},e.filterBy),{},Object(Q.a)({},r,a))}}),(function(){e.props.loadItems(e.state.filterBy)}))},e.handleArtist=function(t){var n=t.target,r=n.name,s="artist"===n.type?parseInt(n.value):n.value;e.setState((function(e){return{filterBy:Object(ee.a)(Object(ee.a)({},e.filterBy),{},Object(Q.a)({},r,s))}}),(function(){e.props.onSetFilter(e.state.filterBy)}))},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.loadItems(),this.props.loadUsers()}},{key:"render",value:function(){var e=this.props.items;return Object(r.jsxs)(a.a.Fragment,{children:[Object(r.jsx)(Me,{handleInput:this.handleInput}),Object(r.jsx)("div",{className:"appStore",children:Object(r.jsx)(ke,{items:e,onBuy:this.onBuy,onAddToCart:this.onAddToCart,onRemoveItem:this.onRemoveItem})})]})}}]),n}(s.Component),Te={loadItems:A,loadUsers:pe,removeItem:function(e){return function(t){return U.remove(e).then((function(){t({type:"REMOVE_ITEM",itemId:e})}))}},setFilter:function(e){return function(t){return console.log(e),t({type:"FILTER",filterBy:e}),Promise.resolve()}}},Be=Object(o.b)((function(e){return{items:e.itemModule.items,users:e.userModule.users,loggedInUser:e.userModule.loggedInUser,filterBy:e.itemModule.filterBy}}),Te)(Ae),De=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"thank-you",children:[Object(r.jsx)("h1",{children:"Thank you for the purchase"}),Object(r.jsx)("p",{children:"Order Details:"}),Object(r.jsx)(F.a,{children:"You can download you image here"})]})}}]),n}(s.Component),Re={loadItems:A,loadOrders:L,addOrder:P},Le=Object(o.b)((function(e){return{items:e.itemModule.items,users:e.userModule.users,loggedInUser:e.userModule.loggedInUser}}),Re)(De);function Pe(){return Object(r.jsx)("div",{className:"app",children:Object(r.jsxs)(u.a,{children:[Object(r.jsx)(Se,{}),Object(r.jsx)("main",{children:Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{path:"/user/:id",component:ye}),Object(r.jsx)(l.a,{path:"/order/:id",component:Ne}),Object(r.jsx)(l.a,{path:"/login",component:he}),Object(r.jsx)(l.a,{path:"/thankyou",component:Le}),Object(r.jsx)(l.a,{path:"/item/:itemId",component:$}),Object(r.jsx)(l.a,{path:"/",component:Be})]})}),Object(r.jsx)(we,{})]})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(134);var Fe=n(76),He=n(25),qe={items:[],filterBy:{filter:""}};var Ve=null;sessionStorage.loggedinUser&&(Ve=JSON.parse(sessionStorage.loggedinUser));var ze={loggedInUser:Ve,users:[]};var Je={reviews:[],filterBy:""};var We={order:{item:[],userId:""},orders:[]};var Ge=Object(He.c)({itemModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ITEMS":return console.log(t.items),Object(ee.a)(Object(ee.a)({},e),{},{items:t.items});case"SET_ITEM":return Object(ee.a)(Object(ee.a)({},e),{},{items:e.items.map((function(e){return e._id===t.item._id?t.item:e}))});case"ADD_ITEM":return Object(ee.a)(Object(ee.a)({},e),{},{items:[].concat(Object(q.a)(e.items),[t.saveOrder])});case"SAVE_ITEM":return Object(ee.a)(Object(ee.a)({},e),{},{items:e.items.map((function(e){return e._id===t.item._id?t.item:e}))});case"REMOVE_ITEM":return Object(ee.a)(Object(ee.a)({},e),{},{items:e.items.filter((function(e){return e._id!==t.itemId}))});case"FILTER":return Object(ee.a)(Object(ee.a)({},e),{},{filterBy:t.filterBy});default:return e}},userModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER":return Object(ee.a)(Object(ee.a)({},e),{},{loggedInUser:t.user});case"REMOVE_USER":return Object(ee.a)(Object(ee.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});case"SET_USERS":return Object(ee.a)(Object(ee.a)({},e),{},{users:t.users});case"SET_SCORE":return Object(ee.a)(Object(ee.a)({},e),{},{loggedInUser:Object(ee.a)(Object(ee.a)({},e.loggedInUser),{},{score:t.score})});default:return e}},reviewModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_REVIEWS":return Object(ee.a)(Object(ee.a)({},e),{},{reviews:t.reviews,filterBy:t.filterBy});case"ADD_REVIEW":return Object(ee.a)(Object(ee.a)({},e),{},{reviews:[].concat(Object(q.a)(e.reviews),[t.review])});default:return e}},orderModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ORDERS":return Object(ee.a)(Object(ee.a)({},e),{},{orders:t.orders});case"DECREMENT":return Object(ee.a)(Object(ee.a)({},e),{},{count:e.count-1});case"ADD_ORDER":return Object(ee.a)(Object(ee.a)({},e),{},{orders:[].concat(Object(q.a)(e.orders),[t.order])});case"REMOVE_FROM_CART":return Object(ee.a)(Object(ee.a)({},e),{},{orders:e.cartItems.filter((function(e){return e._id!==t.itemId}))});default:return e}}}),Ke=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||He.d,Xe=Object(He.e)(Ge,Ke(Object(He.a)(Fe.a))),Ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,149)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))};i.a.render(Object(r.jsx)(o.a,{store:Xe,children:Object(r.jsx)(Pe,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),Ye()}},[[135,1,2]]]);
//# sourceMappingURL=main.e18b5ec5.chunk.js.map